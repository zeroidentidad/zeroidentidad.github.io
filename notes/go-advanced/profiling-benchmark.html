<meta charset="utf-8"/>

<!-- Open Graph -->
<meta property="og:title" content="Notas.go - Avanzado" />
<meta property="og:description" content="Ejemplo simple de profiling benchmark" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://zeroidentidad.github.io/notes" />
<meta property="og:image" content="https://zeroidentidad.github.io/notes/img/advisory.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="1300" />

<!-- Twitter Card (opcional) -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Notas.go - Avanzado" />
<meta name="twitter:description" content="Ejemplo simple de profiling benchmark" />
<meta name="twitter:image" content="https://zeroidentidad.github.io/notes/img/advisory.png" />

<link rel="stylesheet" href="../style.css">
<a href="../"> Regresar</a>
<co-content>
 <p variant="body1" style="background-color: #000000;">
  <u>
   <strong>
    Ejemplo simple de profiling benchmark:
   </strong>
  </u>
 </p>
 <p variant="body1">
  La creaci贸n de perfiles de benchmarks ayuda a identificar 谩reas de optimizaci贸n, ya sea para mejorar el rendimiento de la CPU o reducir el consumo de memoria. Es importante destacar que los benchmarks y los perfiles son m谩s efectivos cuando se utilizan iterativamente durante el proceso de desarrollo para supervisar y mejorar el rendimiento del c贸digo.
 </p>
 <p variant="body1">
  <strong>
   C贸digo de ejemplo
  </strong>
 </p>
 <table columns="1" rows="1">
  <tr>
   <td>
    <p variant="body1">
     package main
    </p>
    <p variant="body1">
     import (
    </p>
    <p variant="body1">
     "crypto/rand"
    </p>
    <p variant="body1">
     "crypto/sha256"
    </p>
    <p variant="body1">
     "testing"
    </p>
    <p variant="body1">
     )
    </p>
    <p variant="body1">
     func MyFunction() []byte {
    </p>
    <p variant="body1">
     data := make([]byte, 1024)
    </p>
    <p variant="body1">
     rand.Read(data)
    </p>
    <p variant="body1">
     return sha256.Sum256(data)[:]
    </p>
    <p variant="body1">
     }
    </p>
    <p variant="body1">
     func BenchmarkMyFunction(b *testing.B) {
    </p>
    <p variant="body1">
     for i := 0; i &lt; b.N; i++ {
    </p>
    <p variant="body1">
     MyFunction()
    </p>
    <p variant="body1">
     }
    </p>
    <p variant="body1">
     }
    </p>
   </td>
  </tr>
 </table>
 <p>
  <strong>
   Ejecutar benchmark
  </strong>
 </p>
 <table columns="1" rows="1">
  <tr>
   <td>
    <p variant="body1">
     go test -bench
    </p>
   </td>
  </tr>
 </table>
 <p variant="body1">
  <strong>
   Perfilar uso de CPU
  </strong>
 </p>
 <table columns="1" rows="1">
  <tr>
   <td>
    <p variant="body1">
     go test -bench . -cpuprofile cpu.prof
    </p>
    <p variant="body1">
     go tool pprof cpu.prof
    </p>
   </td>
  </tr>
 </table>
 <p variant="body1">
  <strong>
   Perfilar uso de memoria
  </strong>
 </p>
 <table columns="1" rows="1">
  <tr>
   <td>
    <p variant="body1">
     go test -bench . -memprofile mem.prof
    </p>
    <p variant="body1">
     go tool pprof mem.prof
    </p>
   </td>
  </tr>
 </table>
 <p>
 </p>
</co-content>
<script async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">
</script>
<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$$','$$'], ['$','$'] ],
      displayMath: [ ["\\[","\\]"] ],
      processEscapes: true
    }
  });
</script>
